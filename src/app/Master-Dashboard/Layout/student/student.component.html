<div class="w-screen h-screen flex">
    <!-- Sidebar -->
    <div class="h-[100%] w-[20%]">
      <app-sidebar></app-sidebar>
    </div>
  
    <!-- Main Content Area -->
    <div class="h-[100%] w-screen ">
      <!-- Top Panel -->
      <div class="h-[10%] w-[100%] mb-5">
        <app-top-panel></app-top-panel>
      </div>
  
      <!-- Down Panel -->
      <div class="h-[87%] w-full flex flex-col items-center gap-4">
        <!-- first -->
        <div class="h-[10%] w-[95%] flex justify-between items-center ">
          <!-- Left Section (Breadcrumbs) -->
          <div class="h-full w-[30%] flex items-center  ">
            <div class="text-black text-base font-normal font-['Archivo'] leading-normal tracking-tight">
              Manage Users /
            </div>
            <div class="text-[#ec4909] text-base font-normal font-['Archivo'] leading-normal tracking-tight ml-1">
              Student
            </div>
          </div>
  
          <!-- Center Section (Search Bar) -->
          <div class="h-full w-[47%] flex items-center justify-end ">
            <div class="h-10 bg-white flex items-center gap-2">
              <div class="w-[300px] h-10 px-4 py-2 rounded-lg border border-[#a6a6ab] flex items-center gap-2">
                <img src="../../../../assets/search-normal.svg" alt="Search Icon">
                <input type="text" 
                       placeholder="Search in table" 
                       class="w-full h-6 text-[#a6a6ab] text-base font-normal font-['Archivo'] leading-normal tracking-tight outline-none"/>
              </div>
            </div>
          </div>
  
          <!-- Right Section (Buttons) -->
          <div class="h-full w-[22%] flex justify-between items-center ">
            <button class="h-10 px-5 rounded-lg border-2 border-[#ec4909] flex items-center justify-center">
              <span class="text-[#ec4909] text-base font-normal font-['Archivo'] leading-normal tracking-tight">Bulk Upload</span>
            </button>
  
            <!-- Add Student Button -->
            <button (click)="toggleForm()" class="h-10 px-5 bg-[#ec4909] rounded-lg flex items-center justify-center">
              <span class="text-white text-base font-normal font-['Archivo'] leading-normal tracking-tight">Add Student</span>
            </button>
          </div>
        </div>
  
        <!-- Modal Popup -->
        <div *ngIf="showForm" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
          <div class="w-[400px] h-auto p-6 bg-white rounded-xl shadow-lg flex flex-col gap-6">
            <div class="flex flex-col gap-3">
              <div class="text-[#0f1728] text-lg font-semibold font-['Inter'] leading-7">Add Student</div>
              <div class="text-[#667084] text-sm font-normal font-['Inter'] leading-tight">
                Please fill out the form below to send an invite to the student
              </div>
            </div>
          
            <!-- Username Input -->
            <div class="flex flex-col gap-1.5">
              <label for="username" class="text-[#344053] text-sm font-medium font-['Inter'] leading-tight">Username*</label>
              <input id="username" [(ngModel)]="studentData.username" type="text" placeholder="Enter username" class="h-11 px-4 py-2.5 bg-white rounded-lg shadow border border-[#cfd4dc] text-[#344053] text-base font-normal font-['Archivo'] leading-normal">
            </div>
          
            <!-- Email Input -->
            <div class="flex flex-col gap-1.5">
              <label for="email" class="text-[#344053] text-sm font-medium font-['Inter'] leading-tight">Email*</label>
              <input id="email" [(ngModel)]="studentData.email" type="email" placeholder="Enter email" class="h-11 px-4 py-2.5 bg-white rounded-lg shadow border border-[#cfd4dc] text-[#344053] text-base font-normal font-['Archivo'] leading-normal">
            </div>
          
            <!-- Password Input -->
            <div class="flex flex-col gap-1.5">
              <label for="password" class="text-[#344053] text-sm font-medium font-['Inter'] leading-tight">Password*</label>
              <input id="password" [(ngModel)]="studentData.password" type="password" placeholder="Enter password" class="h-11 px-4 py-2.5 bg-white rounded-lg shadow border border-[#cfd4dc] text-[#344053] text-base font-normal font-['Archivo'] leading-normal">
            </div>
          
            <!-- Phone Number Input -->
            <div class="flex flex-col gap-1.5">
              <label for="phone_number" class="text-[#344053] text-sm font-medium font-['Inter'] leading-tight">Phone Number*</label>
              <input id="phone_number" [(ngModel)]="studentData.phone_number" type="tel" placeholder="Enter phone number" class="h-11 px-4 py-2.5 bg-white rounded-lg shadow border border-[#cfd4dc] text-[#344053] text-base font-normal font-['Archivo'] leading-normal">
            </div>
          
            <!-- Index Number Input -->
            <div class="flex flex-col gap-1.5">
              <label for="index_number" class="text-[#344053] text-sm font-medium font-['Inter'] leading-tight">Index Number*</label>
              <input id="index_number" [(ngModel)]="studentData.index_number" type="text" placeholder="Enter index number" class="h-11 px-4 py-2.5 bg-white rounded-lg shadow border border-[#cfd4dc] text-[#344053] text-base font-normal font-['Archivo'] leading-normal">
            </div>
          
            <!-- Assign Department(s) Input -->
            <div class="flex flex-col gap-1.5">
              <label for="departments" class="text-[#344053] text-sm font-medium font-['Inter'] leading-tight">Assign Department(s)*</label>
              <select id="departments" [(ngModel)]="studentData.department" class="h-11 px-4 py-2.5 bg-white rounded-lg shadow border border-[#cfd4dc] text-[#344053] text-base font-normal font-['Archivo'] leading-normal">
                  <option value="computer-science">Computer Science</option>
                  <option value="mathematics">Mathematics</option>
                  <option value="statistics">Statistics</option>
                  <option value="environmental-science">Environmental Science</option>
                  <option value="civil-engineering">Civil Engineering</option>
                  <option value="mechanical-engineering">Mechanical Engineering</option>
                  <option value="electrical-engineering">Electrical/Electronic Engineering</option>
                  <option value="chemical-engineering">Chemical Engineering</option>
                  <option value="accounting">Accounting</option>
                  <option value="banking-finance">Banking and Finance</option>
                  <option value="marketing">Marketing</option>
                  <option value="business-administration">Business Administration</option>
                  <option value="human-resource-management">Human Resource Management</option>
                  <option value="building-technology">Building Technology</option>
                  <option value="quantity-surveying">Quantity Surveying</option>
                  <option value="estate-management">Estate Management</option>
                  <option value="fashion-design-textiles">Fashion Design and Textiles</option>
                  <option value="industrial-design">Industrial Design</option>
                  <option value="interior-design">Interior Design</option>
                  <option value="technical-education">Technical Education</option>
                  <option value="vocational-education">Vocational Education</option>
              </select>
            </div>
          
            <!-- Buttons -->
            <div class="flex justify-between mt-5">
              <button (click)="toggleForm()" class="h-11 w-[48%] bg-white rounded-lg shadow border border-[#cfd4dc] flex justify-center items-center">
                <span class="text-[#344053] text-base font-semibold">Cancel</span>
              </button>
              <button (click)="inviteStudent()" class="h-11 w-[48%] bg-[#ec4909] rounded-lg shadow border border-[#ec4909] flex justify-center items-center">
                <span class="text-white text-base font-semibold">Invite</span>
              </button>
            </div>
            
            <!-- Popup for showing API response message -->
            <div *ngIf="showPopup" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
              <div class="w-[300px] h-auto p-6 bg-white rounded-lg shadow-lg flex flex-col items-center">
                  <div class="text-[#0f1728] text-lg font-semibold font-['Inter'] leading-7">
                      {{ popupMessage }}
                  </div>
                  <button (click)="closePopup()" class="mt-4 px-4 py-2 bg-[#ec4909] text-white rounded-lg">
                   Close
                  </button>
              </div>
          </div>
          </div>
          
          </div>
          
        <!-- second -->
        <div class="h-[80%] w-[95%] flex items-center border">
          <!-- Username Column -->
          <div class="h-[100%] w-[15%] flex justify-start items-start">
              <table class="w-full border-collapse">
                  <thead>
                      <tr class="h-[56px] px-2 py-4 bg-[#cfd4dc] border-b border-[#cfd4dc]">
                          <th class="text-left text-[#1d2838] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              Username
                          </th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let student of studentDataList" class="h-14 bg-white border-b border-[#cfd4dc]">
                          <td class="flex items-center gap-4 p-2">
                              <div class="w-12 h-12 bg-[#f2f3f6] rounded-full flex justify-center items-center">
                                  <span class="text-[#667084] text-base font-semibold font-['Archivo'] leading-normal tracking-tight">
                                      {{ (student.Username?.length > 1 ? student.Username.slice(0, 2) : student.Username) | uppercase }}
                                  </span>
                              </div>
                              <span class="text-[#667084] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                                  {{ student.Username }}
                              </span>
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      
          <!-- Email Column -->
          <div class="h-[100%] w-[20%] flex justify-start items-start">
              <table class="w-full border-collapse">
                  <thead>
                      <tr class="h-[56px] px-2 py-4 bg-[#cfd4dc] border-b border-[#cfd4dc]">
                          <th class="text-left text-[#1d2838] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              Email
                          </th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let student of studentDataList" class="h-16 p-2 bg-white border-b border-[#cfd4dc]">
                          <td class="text-[#667084] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              {{ student.Email }}
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      
          <!-- Department Column -->
          <div class="h-[100%] w-[20%] flex justify-start items-start">
              <table class="w-full border-collapse">
                  <thead>
                      <tr class="h-[56px] px-2 py-4 bg-[#cfd4dc] border-b border-[#cfd4dc]">
                          <th class="text-left text-[#1d2838] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              Department
                          </th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let student of studentDataList" class="h-16 p-2 bg-white border-b border-[#cfd4dc]">
                          <td class="text-[#667084] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              {{ student.Department }}
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      
          <!-- Phone Number Column -->
          <div class="h-[100%] w-[20%] flex justify-start items-start">
              <table class="w-full border-collapse">
                  <thead>
                      <tr class="h-[56px] px-2 py-4 bg-[#cfd4dc] border-b border-[#cfd4dc]">
                          <th class="text-left text-[#1d2838] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              Phone Number
                          </th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let student of studentDataList" class="h-16 p-2 bg-white border-b border-[#cfd4dc]">
                          <td class="text-[#667084] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              {{ student.Phone_Number }}
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      
          <!-- Index Number Column -->
          <div class="h-[100%] w-[15%] flex justify-start items-start">
              <table class="w-full border-collapse">
                  <thead>
                      <tr class="h-[56px] px-2 py-4 bg-[#cfd4dc] border-b border-[#cfd4dc]">
                          <th class="text-left text-[#1d2838] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              Index Number
                          </th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let student of studentDataList" class="h-16 p-2 bg-white border-b border-[#cfd4dc]">
                          <td class="text-[#667084] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              {{ student.Index_Number }}
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      
          <!-- Date/Time Column -->
          <div class="h-[100%] w-[15%] flex justify-start items-start">
              <table class="w-full border-collapse">
                  <thead>
                      <tr class="h-[56px] px-2 py-4 bg-[#cfd4dc] border-b border-[#cfd4dc]">
                          <th class="text-left text-[#1d2838] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              Date/Time
                          </th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let student of studentDataList" class="h-16 p-2 bg-white border-b border-[#cfd4dc]">
                          <td class="text-[#667084] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              {{ student.CreatedAt }}
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      
          <!-- Action Column -->
          <div class="h-[100%] w-[20%] flex justify-start items-start">
              <table class="w-full border-collapse">
                  <thead>
                      <tr class="h-[56px] px-2 py-4 bg-[#cfd4dc] border-b border-[#cfd4dc]">
                          <th class="text-left text-[#1d2838] text-base font-normal font-['Archivo'] leading-normal tracking-tight">
                              Action
                          </th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr *ngFor="let student of studentDataList" class="h-14 bg-white border-b border-[#cfd4dc] self-stretch">
                          <td class="p-2 h-16 flex justify-between items-center">
                              <button 
                                  class="bg-blue-500 text-white px-3 py-1 rounded w-[100px]"
                                  (click)="editUser(student)"
                              >
                                  Edit
                              </button>
                              <button 
                                  class="bg-red-500 text-white px-3 py-1 rounded w-[100px]"
                                  (click)="deleteUser(student)"
                              >
                                  Delete
                              </button>
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      </div>
      
        
        <!-- Popup for Notifications -->
        <div *ngIf="showPopup" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50">
          <div class="bg-white p-4 rounded shadow-lg">
            <p>{{ popupMessage }}</p>
            <button (click)="closePopup()" class="mt-2 bg-blue-500 text-white p-2 rounded">Close</button>
          </div>
        </div>
        
        <!-- Edit User Modal -->
        <div *ngIf="showModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50">
          <div class="bg-white p-4 rounded shadow-lg">
            <h2 class="text-lg font-bold mb-4">Edit User</h2>
            <!-- Form fields for editing user -->
            <button (click)="closeModal()" class="mt-2 bg-red-500 text-white p-2 rounded">Cancel</button>
          </div>
        </div>
        
        <!-- Delete Confirmation Modal -->
        <div *ngIf="showDeleteModal" class="fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 z-50">
          <div class="w-[400px] h-[200px] p-6 bg-white rounded-xl shadow flex-col justify-start items-center gap-8 inline-flex">
            <div class="self-stretch h-[76px] flex-col justify-start items-start gap-5 flex">
              <div class="self-stretch h-[76px] flex-col justify-start items-start gap-2 flex">
                <div class="self-stretch text-[#0f1728] text-lg font-semibold font-['Inter'] leading-7">
                  Delete User
                </div>
                <div class="self-stretch">
                  <span class="text-[#667084] text-sm font-normal font-['Inter'] leading-tight">Are you sure you want to delete </span>
                  <span class="text-[#667084] text-sm font-normal font-['Inter'] leading-tight">{{ userName }}</span>
                  <span class="text-[#667084] text-sm font-normal font-['Inter'] leading-tight">? This action cannot be undone.</span>
                </div>
              </div>
            </div>
            <div class="self-stretch justify-start items-start gap-3 inline-flex">
              <div 
                class="grow shrink basis-0 h-11 px-[18px] py-2.5 bg-white rounded-lg shadow border border-[#cfd4dc] flex justify-center items-center gap-2 cursor-pointer" 
                (click)="closeDeleteModal()"
              >
                <span class="text-[#344053] text-base font-semibold font-['Inter'] leading-normal">Cancel</span>
              </div>
              <div 
                class="grow shrink basis-0 h-11 px-[18px] py-2.5 bg-[#d92c20] rounded-lg shadow border border-[#d92c20] flex justify-center items-center gap-2 cursor-pointer"
                (click)="confirmDelete()"
              >
                <span class="text-white text-base font-semibold font-['Inter'] leading-normal">Delete</span>
              </div>
            </div>
          </div>
        </div>
        
        
        
        
        
      
      
        <!-- down -->
        <div class="h-[40px] w-[95%] flex justify-between items-center">
            <!-- Previous Button -->
            <div class="h-full w-[20%]">
              <button (click)="handleButtonClick()" class="h-9 rounded-lg flex items-center bg-white shadow border border-[#cfd4dc] px-3.5 py-2">
                <div class="w-5 h-5">
                  <img src="../../../../assets/arrow-left.svg" alt="Previous">
                </div>
                <div class="text-[#344053] text-sm font-medium leading-tight ml-2">Previous</div>
              </button>
            </div>
          
            <!-- Spacer (Optional) -->
            <div class="h-full w-[20%]"></div>
          
            <!-- Next Button -->
            <div class="h-full w-[20%] flex justify-end">
              <button (click)="handleNextClick()" class="h-9 px-3.5 py-2 bg-white rounded-lg shadow border border-[#feb172] flex items-center gap-2">
                <div class="text-[#344053] text-sm font-medium leading-tight">Next</div>
                <div class="w-5 h-5">
                  <img src="../../../../assets/arrow-right.svg" alt="Next">
                </div>
              </button>
            </div>
          </div>
          


      </div>
    </div>
</div>
  
